buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }

    dependencies {
    }
}

configure(allprojects) {
    configure(subprojects) {
        apply plugin: 'java'
        apply plugin: 'idea'

        sourceCompatibility = 1.8
        targetCompatibility = 1.8

        repositories {
            mavenCentral()
            jcenter()
        }

        project.ext.lwjglVersion = "3.1.0"
        project.ext.steamworks4jVersion = "1.5.0"
        project.ext.jomlVersion = "+"

        org.gradle.internal.os.OperatingSystem os = org.gradle.internal.os.OperatingSystem.current();
        if (os.isWindows()) {
            project.ext.lwjglNatives = "natives-windows"
        } else if (os.isLinux()) {
            project.ext.lwjglNatives = "natives-linux"
        } else if (os.isMacOsX()) {
            project.ext.lwjglNatives = "natives-macos"
        }

        dependencies {
            compile "org.lwjgl:lwjgl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-glfw:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-jemalloc:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-nfd:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-openal:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-opengl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-sse:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-stb:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-tinyfd:${lwjglVersion}"
            runtime "org.lwjgl:lwjgl:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-glfw:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-jemalloc:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-nfd:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-nuklear:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-openal:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-sse:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-stb:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-tinyfd:${lwjglVersion}:${lwjglNatives}"
            compile "com.code-disaster.steamworks4j:steamworks4j:${steamworks4jVersion}"
            compile "org.joml:joml:${jomlVersion}"

            testCompile 'junit:junit:+'
            testCompile 'org.mockito:mockito-all:+'
            testCompile 'org.hamcrest:hamcrest-all:+'
            testCompile 'org.springframework:spring-test:+'

            compile 'org.slf4j:jcl-over-slf4j:+'
            compile 'ch.qos.logback:logback-classic:+'
            compile 'io.reactivex:rxjava:+'

            compile 'org.springframework:spring-beans:+'
            compile 'org.springframework:spring-context:+'

            compile 'net.sf.sociaal:jbullet:+'

            compile group: 'org.python', name: 'jython-standalone', version: '+'

            compile 'org.reflections:reflections:+'
        }

        configurations.all {
            exclude group: 'commons-logging', module: 'commons-logging'
        }

        idea {
            module {
                downloadJavadoc true
                downloadSources true
            }
        }
    }
    group 'org.homonoia'
    version '0.1-SNAPSHOT'
}


task wrapper(type: Wrapper) {
    gradleVersion '3.1'
}