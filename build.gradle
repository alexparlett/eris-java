buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }

    dependencies {
    }
}

configure(allprojects) {
    configure(subprojects) {
        apply plugin: 'java'
        apply plugin: 'idea'

        sourceCompatibility = 1.8
        targetCompatibility = 1.8

        switch ( org.gradle.internal.os.OperatingSystem.current() ) {
            case org.gradle.internal.os.OperatingSystem.WINDOWS:
                project.ext.lwjglNatives = "natives-windows"
                break
            case org.gradle.internal.os.OperatingSystem.LINUX:
                project.ext.lwjglNatives = "natives-linux"
                break
            case org.gradle.internal.os.OperatingSystem.MAC_OS:
                project.ext.lwjglNatives = "natives-macos"
                break
        }

        project.ext.lwjglVersion = "3.1.0"

        repositories {
            mavenCentral()
            jcenter()
            maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        }

        dependencies {
            testCompile 'junit:junit:4.+'
            testCompile 'org.mockito:mockito-all:+'
            testCompile 'org.hamcrest:hamcrest-all:+'
            testCompile 'org.springframework:spring-test:+'

            compile 'org.slf4j:jcl-over-slf4j:+'
            compile 'ch.qos.logback:logback-classic:+'
            compile 'io.reactivex:rxjava:+'

            compile 'org.springframework:spring-beans:+'
            compile 'org.springframework:spring-context:+'

            // LWJGL dependencies START
            compile "org.lwjgl:lwjgl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-bgfx:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-egl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-glfw:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-jawt:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-jemalloc:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-lmdb:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-nanovg:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-nfd:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-nuklear:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-openal:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-opencl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-opengl:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-opengles:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-ovr:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-par:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-sse:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-stb:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-tinyfd:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-vulkan:${lwjglVersion}"
            compile "org.lwjgl:lwjgl-xxhash:${lwjglVersion}"
            // LWJGL natives
            runtime "org.lwjgl:lwjgl:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-bgfx:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-glfw:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-jemalloc:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-lmdb:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-nanovg:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-nfd:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-nuklear:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-openal:${lwjglVersion}:${lwjglNatives}"
            //runtime "org.lwjgl:lwjgl-ovr:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-par:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-sse:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-stb:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-tinyfd:${lwjglVersion}:${lwjglNatives}"
            runtime "org.lwjgl:lwjgl-xxhash:${lwjglVersion}:${lwjglNatives}"
            // LWJGL dependencies END

            compile 'org.joml:joml:+'

            compile 'net.sf.sociaal:jbullet:+'

            compile group: 'org.python', name: 'jython-standalone', version: '2.7.0'
        }

        configurations.all {
            exclude group: 'commons-logging', module: 'commons-logging'
        }

        idea {
            module {
                downloadJavadoc true
                downloadSources true
            }
        }
    }
    group 'org.homonoia'
    version '0.1-SNAPSHOT'
}


task wrapper(type: Wrapper) {
    gradleVersion '3.1'
}